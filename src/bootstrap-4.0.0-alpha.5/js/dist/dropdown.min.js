function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Dropdown=function(e){var n="dropdown",t="4.0.0-alpha.5",r="bs.dropdown",a="."+r,i=".data-api",s=e.fn[n],o=27,u=38,l=40,c=3,p={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,CLICK:"click"+a,CLICK_DATA_API:"click"+a+i,KEYDOWN_DATA_API:"keydown"+a+i},d={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},f={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},h=function(){function n(e){_classCallCheck(this,n),this._element=e,this._addEventListeners()}return n.prototype.toggle=function(){if(this.disabled||e(this).hasClass(d.DISABLED))return!1;var t=n._getParentFromElement(this),r=e(t).hasClass(d.OPEN);if(n._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement&&!e(t).closest(f.NAVBAR_NAV).length){var a=document.createElement("div");a.className=d.BACKDROP,e(a).insertBefore(this),e(a).on("click",n._clearMenus)}var i={relatedTarget:this},s=e.Event(p.SHOW,i);return e(t).trigger(s),s.isDefaultPrevented()?!1:(this.focus(),this.setAttribute("aria-expanded","true"),e(t).toggleClass(d.OPEN),e(t).trigger(e.Event(p.SHOWN,i)),!1)},n.prototype.dispose=function(){e.removeData(this._element,r),e(this._element).off(a),this._element=null},n.prototype._addEventListeners=function(){e(this._element).on(p.CLICK,this.toggle)},n._jQueryInterface=function(t){return this.each(function(){var a=e(this).data(r);if(a||e(this).data(r,a=new n(this)),"string"==typeof t){if(void 0===a[t])throw new Error('No method named "'+t+'"');a[t].call(this)}})},n._clearMenus=function(t){if(!t||t.which!==c){var r=e(f.BACKDROP)[0];r&&r.parentNode.removeChild(r);for(var a=e.makeArray(e(f.DATA_TOGGLE)),i=0;i<a.length;i++){var s=n._getParentFromElement(a[i]),o={relatedTarget:a[i]};if(e(s).hasClass(d.OPEN)&&!(t&&"click"===t.type&&/input|textarea/i.test(t.target.tagName)&&e.contains(s,t.target))){var u=e.Event(p.HIDE,o);e(s).trigger(u),u.isDefaultPrevented()||(a[i].setAttribute("aria-expanded","false"),e(s).removeClass(d.OPEN).trigger(e.Event(p.HIDDEN,o)))}}}},n._getParentFromElement=function(n){var t=void 0,r=Util.getSelectorFromElement(n);return r&&(t=e(r)[0]),t||n.parentNode},n._dataApiKeydownHandler=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass(d.DISABLED))){var r=n._getParentFromElement(this),a=e(r).hasClass(d.OPEN);if(!a&&t.which!==o||a&&t.which===o){if(t.which===o){var i=e(r).find(f.DATA_TOGGLE)[0];e(i).trigger("focus")}return void e(this).trigger("click")}var s=e.makeArray(e(f.VISIBLE_ITEMS));if(s=s.filter(function(e){return e.offsetWidth||e.offsetHeight}),s.length){var c=s.indexOf(t.target);t.which===u&&c>0&&c--,t.which===l&&c<s.length-1&&c++,0>c&&(c=0),s[c].focus()}}},_createClass(n,null,[{key:"VERSION",get:function(){return t}}]),n}();return e(document).on(p.KEYDOWN_DATA_API,f.DATA_TOGGLE,h._dataApiKeydownHandler).on(p.KEYDOWN_DATA_API,f.ROLE_MENU,h._dataApiKeydownHandler).on(p.KEYDOWN_DATA_API,f.ROLE_LISTBOX,h._dataApiKeydownHandler).on(p.CLICK_DATA_API,h._clearMenus).on(p.CLICK_DATA_API,f.DATA_TOGGLE,h.prototype.toggle).on(p.CLICK_DATA_API,f.FORM_CHILD,function(e){e.stopPropagation()}),e.fn[n]=h._jQueryInterface,e.fn[n].Constructor=h,e.fn[n].noConflict=function(){return e.fn[n]=s,h._jQueryInterface},h}(jQuery);