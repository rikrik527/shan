function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),ScrollSpy=function(e){var n="scrollspy",t="4.0.0-alpha.5",r="bs.scrollspy",a="."+r,i=".data-api",s=e.fn[n],o={offset:10,method:"auto",target:""},u={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate"+a,SCROLL:"scroll"+a,LOAD_DATA_API:"load"+a+i},c={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},p={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},d={OFFSET:"offset",POSITION:"position"},f=function(){function i(n,t){_classCallCheck(this,i),this._element=n,this._scrollElement="BODY"===n.tagName?window:n,this._config=this._getConfig(t),this._selector=this._config.target+" "+p.NAV_LINKS+","+(this._config.target+" "+p.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(l.SCROLL,e.proxy(this._process,this)),this.refresh(),this._process()}return i.prototype.refresh=function(){var n=this,t=this._scrollElement!==this._scrollElement.window?d.POSITION:d.OFFSET,r="auto"===this._config.method?t:this._config.method,a=r===d.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var i=e.makeArray(e(this._selector));i.map(function(n){var t=void 0,i=Util.getSelectorFromElement(n);return i&&(t=e(i)[0]),t&&(t.offsetWidth||t.offsetHeight)?[e(t)[r]().top+a,i]:null}).filter(function(e){return e}).sort(function(e,n){return e[0]-n[0]}).forEach(function(e){n._offsets.push(e[0]),n._targets.push(e[1])})},i.prototype.dispose=function(){e.removeData(this._element,r),e(this._scrollElement).off(a),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i.prototype._getConfig=function(t){if(t=e.extend({},o,t),"string"!=typeof t.target){var r=e(t.target).attr("id");r||(r=Util.getUID(n),e(t.target).attr("id",r)),t.target="#"+r}return Util.typeCheckConfig(n,t,u),t},i.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.scrollY:this._scrollElement.scrollTop},i.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i.prototype._process=function(){var e=this._getScrollTop()+this._config.offset,n=this._getScrollHeight(),t=this._config.offset+n-this._scrollElement.offsetHeight;if(this._scrollHeight!==n&&this.refresh(),e>=t){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}if(this._activeTarget&&e<this._offsets[0])return this._activeTarget=null,void this._clear();for(var a=this._offsets.length;a--;){var i=this._activeTarget!==this._targets[a]&&e>=this._offsets[a]&&(void 0===this._offsets[a+1]||e<this._offsets[a+1]);i&&this._activate(this._targets[a])}},i.prototype._activate=function(n){this._activeTarget=n,this._clear();var t=this._selector.split(",");t=t.map(function(e){return e+'[data-target="'+n+'"],'+(e+'[href="'+n+'"]')});var r=e(t.join(","));r.hasClass(c.DROPDOWN_ITEM)?(r.closest(p.DROPDOWN).find(p.DROPDOWN_TOGGLE).addClass(c.ACTIVE),r.addClass(c.ACTIVE)):r.parents(p.LI).find(p.NAV_LINKS).addClass(c.ACTIVE),e(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:n})},i.prototype._clear=function(){e(this._selector).filter(p.ACTIVE).removeClass(c.ACTIVE)},i._jQueryInterface=function(n){return this.each(function(){var t=e(this).data(r),a="object"===("undefined"==typeof n?"undefined":_typeof(n))&&n||null;if(t||(t=new i(this,a),e(this).data(r,t)),"string"==typeof n){if(void 0===t[n])throw new Error('No method named "'+n+'"');t[n]()}})},_createClass(i,null,[{key:"VERSION",get:function(){return t}},{key:"Default",get:function(){return o}}]),i}();return e(window).on(l.LOAD_DATA_API,function(){for(var n=e.makeArray(e(p.DATA_SPY)),t=n.length;t--;){var r=e(n[t]);f._jQueryInterface.call(r,r.data())}}),e.fn[n]=f._jQueryInterface,e.fn[n].Constructor=f,e.fn[n].noConflict=function(){return e.fn[n]=s,f._jQueryInterface},f}(jQuery);