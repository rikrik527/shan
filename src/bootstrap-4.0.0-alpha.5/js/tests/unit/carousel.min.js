$(function(){"use strict";QUnit.module("carousel plugin"),QUnit.test("should be defined on jQuery object",function(e){e.expect(1),e.ok($(document.body).carousel,"carousel method is defined")}),QUnit.module("carousel",{beforeEach:function(){$.fn.bootstrapCarousel=$.fn.carousel.noConflict()},afterEach:function(){$.fn.carousel=$.fn.bootstrapCarousel,delete $.fn.bootstrapCarousel}}),QUnit.test("should provide no conflict",function(e){e.expect(1),e.strictEqual($.fn.carousel,void 0,"carousel was set back to undefined (orig value)")}),QUnit.test("should throw explicit error on undefined method",function(e){e.expect(1);var n=$("<div/>");n.bootstrapCarousel();try{n.bootstrapCarousel("noMethod")}catch(t){e.strictEqual(t.message,'No method named "noMethod"')}}),QUnit.test("should return jquery collection containing the element",function(e){e.expect(2);var n=$("<div/>"),t=n.bootstrapCarousel();e.ok(t instanceof $,"returns jquery collection"),e.strictEqual(t[0],n[0],"collection contains element")}),QUnit.test("should type check config options",function(e){e.expect(2);var n,t='CAROUSEL: Option "interval" provided type "string" but expected type "(number|boolean)".',r={interval:"fat sux"};try{$("<div/>").bootstrapCarousel(r)}catch(a){n=a.message}e.ok(n===t,"correct error message"),r={keyboard:document.createElement("div")},t='CAROUSEL: Option "keyboard" provided type "element" but expected type "boolean".';try{$("<div/>").bootstrapCarousel(r)}catch(a){n=a.message}e.ok(n===t,"correct error message")}),QUnit.test("should not fire slid when slide is prevented",function(e){e.expect(1);var n=e.async();$('<div class="carousel"/>').on("slide.bs.carousel",function(t){t.preventDefault(),e.ok(!0,"slide event fired"),n()}).on("slid.bs.carousel",function(){e.ok(!1,"slid event fired")}).bootstrapCarousel("next")}),QUnit.test("should reset when slide is prevented",function(e){e.expect(6);var n='<div id="carousel-example-generic" class="carousel slide"><ol class="carousel-indicators"><li data-target="#carousel-example-generic" data-slide-to="0" class="active"/><li data-target="#carousel-example-generic" data-slide-to="1"/><li data-target="#carousel-example-generic" data-slide-to="2"/></ol><div class="carousel-inner"><div class="carousel-item active"><div class="carousel-caption"/></div><div class="carousel-item"><div class="carousel-caption"/></div><div class="carousel-item"><div class="carousel-caption"/></div></div><a class="left carousel-control" href="#carousel-example-generic" data-slide="prev"/><a class="right carousel-control" href="#carousel-example-generic" data-slide="next"/></div>',t=$(n),r=e.async();t.one("slide.bs.carousel",function(n){n.preventDefault(),setTimeout(function(){e.ok(t.find(".carousel-item:eq(0)").is(".active"),"first item still active"),e.ok(t.find(".carousel-indicators li:eq(0)").is(".active"),"first indicator still active"),t.bootstrapCarousel("next")},0)}).one("slid.bs.carousel",function(){setTimeout(function(){e.ok(!t.find(".carousel-item:eq(0)").is(".active"),"first item still active"),e.ok(!t.find(".carousel-indicators li:eq(0)").is(".active"),"first indicator still active"),e.ok(t.find(".carousel-item:eq(1)").is(".active"),"second item active"),e.ok(t.find(".carousel-indicators li:eq(1)").is(".active"),"second indicator active"),r()},0)}).bootstrapCarousel("next")}),QUnit.test("should fire slide event with direction",function(e){e.expect(4);var n='<div id="myCarousel" class="carousel slide"><div class="carousel-inner"><div class="carousel-item active"><img alt=""><div class="carousel-caption"><h4>First Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Second Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Third Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div></div><a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a><a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a></div>',t=$(n),r=e.async();t.one("slide.bs.carousel",function(n){e.ok(n.direction,"direction present on next"),e.strictEqual(n.direction,"left","direction is left on next"),t.one("slide.bs.carousel",function(n){e.ok(n.direction,"direction present on prev"),e.strictEqual(n.direction,"right","direction is right on prev"),r()}).bootstrapCarousel("prev")}).bootstrapCarousel("next")}),QUnit.test("should fire slid event with direction",function(e){e.expect(4);var n='<div id="myCarousel" class="carousel slide"><div class="carousel-inner"><div class="carousel-item active"><img alt=""><div class="carousel-caption"><h4>First Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Second Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Third Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div></div><a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a><a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a></div>',t=$(n),r=e.async();t.one("slid.bs.carousel",function(n){e.ok(n.direction,"direction present on next"),e.strictEqual(n.direction,"left","direction is left on next"),t.one("slid.bs.carousel",function(n){e.ok(n.direction,"direction present on prev"),e.strictEqual(n.direction,"right","direction is right on prev"),r()}).bootstrapCarousel("prev")}).bootstrapCarousel("next")}),QUnit.test("should fire slide event with relatedTarget",function(e){e.expect(2);var n='<div id="myCarousel" class="carousel slide"><div class="carousel-inner"><div class="carousel-item active"><img alt=""><div class="carousel-caption"><h4>First Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Second Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Third Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div></div><a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a><a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a></div>',t=e.async();$(n).on("slide.bs.carousel",function(n){e.ok(n.relatedTarget,"relatedTarget present"),e.ok($(n.relatedTarget).hasClass("carousel-item"),'relatedTarget has class "item"'),t()}).bootstrapCarousel("next")}),QUnit.test("should fire slid event with relatedTarget",function(e){e.expect(2);var n='<div id="myCarousel" class="carousel slide"><div class="carousel-inner"><div class="carousel-item active"><img alt=""><div class="carousel-caption"><h4>First Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Second Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Third Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div></div><a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a><a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a></div>',t=e.async();$(n).on("slid.bs.carousel",function(n){e.ok(n.relatedTarget,"relatedTarget present"),e.ok($(n.relatedTarget).hasClass("carousel-item"),'relatedTarget has class "item"'),t()}).bootstrapCarousel("next")}),QUnit.test("should set interval from data attribute",function(e){e.expect(4);var n='<div id="myCarousel" class="carousel slide"><div class="carousel-inner"><div class="carousel-item active"><img alt=""><div class="carousel-caption"><h4>First Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Second Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div><div class="carousel-item"><img alt=""><div class="carousel-caption"><h4>Third Thumbnail label</h4><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div></div></div><a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a><a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a></div>',t=$(n);t.attr("data-interval",1814),t.appendTo("body"),$("[data-slide]").first().trigger("click"),e.strictEqual(t.data("bs.carousel")._config.interval,1814),t.remove(),t.appendTo("body").attr("data-modal","foobar"),$("[data-slide]").first().trigger("click"),e.strictEqual(t.data("bs.carousel")._config.interval,1814,"even if there is an data-modal attribute set"),t.remove(),t.appendTo("body"),$("[data-slide]").first().trigger("click"),t.attr("data-interval",1860),$("[data-slide]").first().trigger("click"),e.strictEqual(t.data("bs.carousel")._config.interval,1814,"attributes should be read only on initialization"),t.remove(),t.attr("data-interval",!1),t.appendTo("body"),t.bootstrapCarousel(1),e.strictEqual(t.data("bs.carousel")._config.interval,!1,"data attribute has higher priority than default options"),t.remove()}),QUnit.test("should skip over non-items when using item indices",function(e){e.expect(2);var n='<div id="myCarousel" class="carousel" data-interval="1814"><div class="carousel-inner"><div class="carousel-item active"><img alt=""></div><script type="text/x-metamorph" id="thingy"/><div class="carousel-item"><img alt=""></div><div class="carousel-item"></div></div></div>',t=$(n);t.bootstrapCarousel(),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item active"),t.bootstrapCarousel(1),e.strictEqual(t.find(".carousel-item")[1],t.find(".active")[0],"second item active")}),QUnit.test("should skip over non-items when using next/prev methods",function(e){e.expect(2);var n='<div id="myCarousel" class="carousel" data-interval="1814"><div class="carousel-inner"><div class="carousel-item active"><img alt=""></div><script type="text/x-metamorph" id="thingy"/><div class="carousel-item"><img alt=""></div><div class="carousel-item"></div></div></div>',t=$(n);t.bootstrapCarousel(),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item active"),t.bootstrapCarousel("next"),e.strictEqual(t.find(".carousel-item")[1],t.find(".active")[0],"second item active")}),QUnit.test("should go to previous item if left arrow key is pressed",function(e){e.expect(2);var n='<div id="myCarousel" class="carousel" data-interval="false"><div class="carousel-inner"><div id="first" class="carousel-item"><img alt=""></div><div id="second" class="carousel-item active"><img alt=""></div><div id="third" class="carousel-item"><img alt=""></div></div></div>',t=$(n);t.bootstrapCarousel(),e.strictEqual(t.find(".carousel-item")[1],t.find(".active")[0],"second item active"),t.trigger($.Event("keydown",{which:37})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item active")}),QUnit.test("should go to next item if right arrow key is pressed",function(e){e.expect(2);var n='<div id="myCarousel" class="carousel" data-interval="false"><div class="carousel-inner"><div id="first" class="carousel-item active"><img alt=""></div><div id="second" class="carousel-item"><img alt=""></div><div id="third" class="carousel-item"><img alt=""></div></div></div>',t=$(n);t.bootstrapCarousel(),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item active"),t.trigger($.Event("keydown",{which:39})),e.strictEqual(t.find(".carousel-item")[1],t.find(".active")[0],"second item active")}),QUnit.test("should support disabling the keyboard navigation",function(e){e.expect(3);var n='<div id="myCarousel" class="carousel" data-interval="false" data-keyboard="false"><div class="carousel-inner"><div id="first" class="carousel-item active"><img alt=""></div><div id="second" class="carousel-item"><img alt=""></div><div id="third" class="carousel-item"><img alt=""></div></div></div>',t=$(n);t.bootstrapCarousel(),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item active"),t.trigger($.Event("keydown",{which:39})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item still active after right arrow press"),t.trigger($.Event("keydown",{which:37})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item still active after left arrow press")}),QUnit.test("should ignore keyboard events within <input>s and <textarea>s",function(e){e.expect(7);var n='<div id="myCarousel" class="carousel" data-interval="false"><div class="carousel-inner"><div id="first" class="carousel-item active"><img alt=""><input type="text" id="in-put"><textarea id="text-area"></textarea></div><div id="second" class="carousel-item"><img alt=""></div><div id="third" class="carousel-item"><img alt=""></div></div></div>',t=$(n),r=t.find("#in-put"),a=t.find("#text-area");e.strictEqual(r.length,1,"found <input>"),e.strictEqual(a.length,1,"found <textarea>"),t.bootstrapCarousel(),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item active"),r.trigger($.Event("keydown",{which:39})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item still active after right arrow press in <input>"),r.trigger($.Event("keydown",{which:37})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item still active after left arrow press in <input>"),a.trigger($.Event("keydown",{which:39})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item still active after right arrow press in <textarea>"),a.trigger($.Event("keydown",{which:37})),e.strictEqual(t.find(".carousel-item")[0],t.find(".active")[0],"first item still active after left arrow press in <textarea>")}),QUnit.test("should only add mouseenter and mouseleave listeners when not on mobile",function(e){e.expect(2);var n="ontouchstart"in document.documentElement,t='<div id="myCarousel" class="carousel" data-interval="false" data-pause="hover"><div class="carousel-inner"><div id="first" class="carousel-item active"><img alt=""></div><div id="second" class="carousel-item"><img alt=""></div><div id="third" class="carousel-item"><img alt=""></div></div></div>',r=$(t).bootstrapCarousel();$.each(["mouseover","mouseout"],function(t,a){e.strictEqual(a in $._data(r[0],"events"),!n,"does"+(n?" not":"")+" listen for "+a+" events")})}),QUnit.test("should wrap around from end to start when wrap option is true",function(e){e.expect(3);var n='<div id="carousel-example-generic" class="carousel slide" data-wrap="true"><ol class="carousel-indicators"><li data-target="#carousel-example-generic" data-slide-to="0" class="active"/><li data-target="#carousel-example-generic" data-slide-to="1"/><li data-target="#carousel-example-generic" data-slide-to="2"/></ol><div class="carousel-inner"><div class="carousel-item active" id="one"><div class="carousel-caption"/></div><div class="carousel-item" id="two"><div class="carousel-caption"/></div><div class="carousel-item" id="three"><div class="carousel-caption"/></div></div><a class="left carousel-control" href="#carousel-example-generic" data-slide="prev"/><a class="right carousel-control" href="#carousel-example-generic" data-slide="next"/></div>',t=$(n),r=function(){return t.find(".carousel-item.active").attr("id")},a=e.async();t.one("slid.bs.carousel",function(){e.strictEqual(r(),"two","carousel slid from 1st to 2nd slide"),t.one("slid.bs.carousel",function(){e.strictEqual(r(),"three","carousel slid from 2nd to 3rd slide"),t.one("slid.bs.carousel",function(){e.strictEqual(r(),"one","carousel wrapped around and slid from 3rd to 1st slide"),a()}).bootstrapCarousel("next")}).bootstrapCarousel("next")}).bootstrapCarousel("next")}),QUnit.test("should wrap around from start to end when wrap option is true",function(e){e.expect(1);var n='<div id="carousel-example-generic" class="carousel slide" data-wrap="true"><ol class="carousel-indicators"><li data-target="#carousel-example-generic" data-slide-to="0" class="active"/><li data-target="#carousel-example-generic" data-slide-to="1"/><li data-target="#carousel-example-generic" data-slide-to="2"/></ol><div class="carousel-inner"><div class="carousel-item active" id="one"><div class="carousel-caption"/></div><div class="carousel-item" id="two"><div class="carousel-caption"/></div><div class="carousel-item" id="three"><div class="carousel-caption"/></div></div><a class="left carousel-control" href="#carousel-example-generic" data-slide="prev"/><a class="right carousel-control" href="#carousel-example-generic" data-slide="next"/></div>',t=$(n),r=e.async();t.on("slid.bs.carousel",function(){e.strictEqual(t.find(".carousel-item.active").attr("id"),"three","carousel wrapped around and slid from 1st to 3rd slide"),r()}).bootstrapCarousel("prev")}),QUnit.test("should stay at the end when the next method is called and wrap is false",function(e){e.expect(3);var n='<div id="carousel-example-generic" class="carousel slide" data-wrap="false"><ol class="carousel-indicators"><li data-target="#carousel-example-generic" data-slide-to="0" class="active"/><li data-target="#carousel-example-generic" data-slide-to="1"/><li data-target="#carousel-example-generic" data-slide-to="2"/></ol><div class="carousel-inner"><div class="carousel-item active" id="one"><div class="carousel-caption"/></div><div class="carousel-item" id="two"><div class="carousel-caption"/></div><div class="carousel-item" id="three"><div class="carousel-caption"/></div></div><a class="left carousel-control" href="#carousel-example-generic" data-slide="prev"/><a class="right carousel-control" href="#carousel-example-generic" data-slide="next"/></div>',t=$(n),r=function(){return t.find(".carousel-item.active").attr("id")},a=e.async();t.one("slid.bs.carousel",function(){e.strictEqual(r(),"two","carousel slid from 1st to 2nd slide"),t.one("slid.bs.carousel",function(){e.strictEqual(r(),"three","carousel slid from 2nd to 3rd slide"),t.one("slid.bs.carousel",function(){e.ok(!1,"carousel slid when it should not have slid")}).bootstrapCarousel("next"),e.strictEqual(r(),"three","carousel did not wrap around and stayed on 3rd slide"),a()}).bootstrapCarousel("next")}).bootstrapCarousel("next")}),QUnit.test("should stay at the start when the prev method is called and wrap is false",function(e){e.expect(1);var n='<div id="carousel-example-generic" class="carousel slide" data-wrap="false"><ol class="carousel-indicators"><li data-target="#carousel-example-generic" data-slide-to="0" class="active"/><li data-target="#carousel-example-generic" data-slide-to="1"/><li data-target="#carousel-example-generic" data-slide-to="2"/></ol><div class="carousel-inner"><div class="carousel-item active" id="one"><div class="carousel-caption"/></div><div class="carousel-item" id="two"><div class="carousel-caption"/></div><div class="carousel-item" id="three"><div class="carousel-caption"/></div></div><a class="left carousel-control" href="#carousel-example-generic" data-slide="prev"/><a class="right carousel-control" href="#carousel-example-generic" data-slide="next"/></div>',t=$(n);t.on("slid.bs.carousel",function(){e.ok(!1,"carousel slid when it should not have slid")}).bootstrapCarousel("prev"),e.strictEqual(t.find(".carousel-item.active").attr("id"),"one","carousel did not wrap around and stayed on 1st slide")})});